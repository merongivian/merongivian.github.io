<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Oracle Advanced Security (ASO) - Merongivian</title>
  <meta name="author" content="Jose Añasco">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://merongivian.github.io/blog/2014/12/11/oracle-advanced-security-aso">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Merongivian" type="application/atom+xml">

  <!-- http://opengraphprotocol.org/ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://merongivian.github.io/blog/2014/12/11/oracle-advanced-security-aso">
  <meta property="og:title" content="Oracle Advanced Security (ASO) - Merongivian">
  

  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>


<link href="/assets/bootstrap/dist/css/hover.css" rel="stylesheet" type="text/css">

<link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-united-theme.min.css" rel="stylesheet" type="text/css">

<link href="/assets/bootstrap/dist/css/custom.css" rel="stylesheet" type="text/css">


  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

  
   <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-55897463-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand trim" href="/">Merongivian</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a class="trim" rel="index" href="/">Blog</a>
                </li>
                <li >
                    <a class="trim" href="/blog/archives">Archives</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                  <div id="nav-social-links">
                    <a class = "fade-out" href="https://github.com/merongivian"><img src="/images/github-icon.svg"></a>
                    <a class = "fade-out" href="https://twitter.com/merongivian"><img src="/images/twitter-icon.svg"></a>
                    <a class = "fade-out" href="https://soundcloud.com/merongivian"><img src="/images/soundcloud-icon.svg"></a>
                    <a class = "linkedin fade-out" href="https://www.linkedin.com/pub/jose-a%C3%B1asco-loor/52/a07/9"><img src="/images/linkedin-icon.svg"></a>
                  </div>
                </li>
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="https://www.google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:merongivian.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="name" content="Merongivian" />
    
    <meta itemprop="url" content="http://merongivian.github.io" />
    <article class="hentry" role="article" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        













</span> <time datetime="2014-12-11T11:26:50-05:00"  itemprop="datePublished dateCreated"><time class='entry-date' datetime='2014-12-11T11:26:50-05:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:26 am</span></time></time>
        
      </p>
    
    
    <h1 class="entry-title" itemprop="name headline">
        Oracle Advanced Security (ASO)
        
    </h1>
    
  </header>


<div class="entry-content clearfix" itemprop="articleBody description"><p><img class="center" src="http://www.sysage.com.tw/Guest/FCKUploadFile/ADS.JPG" /></p>

<h3 id="introduccion">Introduccion</h3>

<p>La encriptación es un componente clave del principio defensa-en-profundidad y es
importante para proteger los datos en tránsito y en reposo. Oracle primero introdujo
las API para la encriptación de base de datos en Oracle8i. Actualmente, las API para
encriptación de base de datos Oracle son utilizadas por muchos clientes para
encriptar los datos de aplicaciones sensibles. Lograr la transparencia y utilizar una
API de encriptación requiere la incorporación de llamadas de función dentro de la
propia aplicación o el uso de triggers de base de datos previamente insertados.</p>

<!--more-->

<p>También se pueden necesitar visualizaciones de las aplicaciones para decodificar los
datos antes de que lleguen a la aplicación. Asimismo, la administración de claves
debe manejarse de manera programática.
Oracle Advanced Security Transparent Data Encryption (TDE), primero
introducido en Oracle Database 10g versión 2, es la solución más avanzada del
sector para la encriptación. TDE ofrece administración clave y transparencia
completa de encriptación de datos de aplicaciones sensibles. El proceso de
encriptación de base de datos es activado mediante el uso de comandos DDL,
eliminando por completo la necesidad de cambios en las aplicaciones, la
administración programática de claves, los triggers de base de datos y las
visualizaciones.</p>

<h3 id="caracteristicas">Caracteristicas</h3>

<ul>
  <li>Proporciona cifrado de datos transparente y redacción dentro de la base de datos Oracle.</li>
  <li>Ayuda a los requisitos reglamentarios de dirección, incluyendo PCI DSS y HIPAA HiTech.</li>
  <li>Sobrecarga de rendimiento mínimo y no hay cambios en las aplicaciones.</li>
  <li>Se integra con las tecnologías de Oracle, incluyendo Oracle Exadata, Oracle Advanced Compression, Oracle GoldenGate, etc.</li>
</ul>

<h3 id="encriptacion-de-la-aplicacion">Encriptacion de la aplicacion</h3>

<p>Cada usuatio tiene una palabra secreta para desencriptar la informacion que le pertence, en la base, el rato que se registra lo hace de manera encriptada</p>

<p>Oracle ofrece dos paquetes para esto:</p>

<p><img class="center" src="https://wilsonaraujoudla.files.wordpress.com/2014/12/diapositiva1.gif" width="600" height="600" /></p>

<h3 id="transparent-data-encryption-tde">Transparent Data Encryption (TDE)</h3>

<p><img class="center" src="http://www.oracle.com/ocom/groups/public/@otn/documents/webcontent/1964796.png" width="1000" height="600" /></p>

<p>TDE encripta los datos antes de que se escriban en el disco y los decodifica antes de
que vuelvan a la aplicación. El proceso de codificación y decodificación es realizado
en el nivel SQL, de manera completamente transparente para las aplicaciones y los
usuarios. Los backups subsiguientes de los archivos de base de datos en disco o
cinta tendrán los datos de aplicaciones sensibles encriptados. En forma opcional,
TDE puede utilizarse junto con Oracle RMAN para encriptar toda la base de datos
Oracle durante el backup a disco.</p>

<ul>
  <li>
    <p><strong>Protección de datos confidenciales mediante cifrado TDE Column</strong></p>

    <p>Se puede utilizar para cifrar los datos específicos de las tablas de aplicación tales como números de tarjetas de crédito.</p>

    <p>Es útil cuando las tablas de bases de datos son grandes, sólo un pequeño número de columnas debe estar encriptada, y las columnas son conocidas.</p>
  </li>
  <li>
    <p><strong>Protección de aplicaciones enteras con el uso de tablas de cifrado TDE</strong></p>

    <p>Protege tablas de aplicaciones enteras mediante la encriptación los espacios de tabla subyacentes. Cifra de tablas de aplicación independientemente de la sensibilidad de los datos y con independencia de su tipo de datos.</p>

    <p>Es útil cuando la base de datos contiene una gran cantidad datos de sensibles a ser cifrados y las columnas residen en muchos lugares diferentes.</p>

    <p>El cifrado de tablas se integra con Oracle Recovery Manager (copia de seguridad y restauración), Oracle Data Pump (movimiento de datos), Oracle Active Data Guard (redundancia y conmutación por error), y Oracle Golden Gate (replicación). TDE también se integra con las características internas de la base de datos como la de rehacer para evitar posibles fugas de datos en los registros.</p>
  </li>
</ul>

<h3 id="generacion-llaves-de-encriptacion">Generacion llaves de encriptacion</h3>

<h4 id="generacion-de-llave">- Generacion de llave</h4>

<div><div class="CodeRay">
  <div class="code"><pre>raw_key := dbms_crypto.randombytes (
             number_bytes =&gt; <span class="integer">24</span> );
</pre></div>
</div>
</div>

<h4 id="encriptacion-de-datos">- Encriptacion de datos</h4>

<div><div class="CodeRay">
  <div class="code"><pre>encrypted_raw := dbms_crypto.encrypt (
             src =&gt; raw_input,
             typ =&gt; DBMS_CRYPTO.DES3_CBC_PKCS5,
             <span class="type">KEY</span> =&gt; raw_key );
</pre></div>
</div>
</div>

<h3 id="uso-de-decrypt">Uso de Decrypt</h3>

<div><div class="CodeRay">
  <div class="code"><pre>decrypted_raw := dbms_crypto.Decrypt (
             encrypted_raw,
             dbms_crypto.DES3_CBC_PKCS5,
             raw_key );
</pre></div>
</div>
</div>

<h3 id="encriptacion-por-columna-y-por-tablespace">Encriptacion por columna y por tablespace</h3>

<h4 id="columna">- Columna</h4>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment">/* Crear columna encriptada */</span>

<span class="class">CREATE</span> <span class="type">TABLE</span> cust_payment_info
   (first_name <span class="predefined-type">VARCHAR</span>(<span class="integer">11</span>),
    last_name <span class="predefined-type">VARCHAR</span>(<span class="integer">10</span>),
    order_number NUMBER(<span class="integer">13</span>),
    credit_card_number <span class="predefined-type">VARCHAR2</span>(<span class="integer">20</span>)
            ENCRYPT NO SALT);

<span class="comment">/* Retiro de la encriptacion */</span>

<span class="class">ALTER</span> <span class="type">TABLE</span> cust_payment_info
MODIFY credit_card_number DECRYPT

<span class="comment">/* Cambio en el algoritmo y en SALT */</span>

<span class="class">ALTER</span> <span class="type">TABLE</span> cust_payment_info
MODIFY credit_card_number ENCRYPT
<span class="keyword">USING</span> <span class="string"><span class="delimiter">'</span><span class="content">AES256</span><span class="delimiter">'</span></span> SALT
</pre></div>
</div>
</div>

<h4 id="tablespace">- Tablespace</h4>

<p><img class="center" src="https://docs.oracle.com/cd/E15586_01/network.1111/e10746/img/transdata_1.gif" width="500" height="500" /></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment">/* Crear tablespace encriptado */</span>

<span class="class">CREATE</span> TABLESPACE encrypt_ts
DATAFILE <span class="string"><span class="delimiter">'</span><span class="content">$ORACLE_HOME/dbs/encrypt.dat</span><span class="delimiter">'</span></span> SIZE <span class="integer">100</span>M
ENCRYPTION <span class="keyword">USING</span> <span class="string"><span class="delimiter">'</span><span class="content">3DES168</span><span class="delimiter">'</span></span>
<span class="directive">DEFAULT</span> STORAGE (ENCRYPT);
</pre></div>
</div>
</div>

<h3 id="pasos-para-encriptacion-con-wallet">Pasos para encriptacion con wallet</h3>

<p><img class="center" src="http://sunkupuli.files.wordpress.com/2014/04/image-5.png?w=640" width="500" height="500" /></p>

<ol>
  <li>Crear una wallet con Oracle Wallet Manager</li>
</ol>

<div><div class="CodeRay">
  <div class="code"><pre>ENCRYPTION_WALLET_LOCATION=
 (SOURCE=(METHOD=FILE) (METHOD_DATA=
 (DIRECTORY=/opt/oracle/product/<span class="float">11.2</span><span class="float">.0</span>/dbhome_1)))
</pre></div>
</div>
</div>

<ol>
  <li>Abrir el wallet</li>
</ol>

<div><div class="CodeRay">
  <div class="code"><pre><span class="class">ALTER</span> SYSTEM <span class="class">SET</span> ENCRYPTION WALLET OPEN IDENTIFIED <span class="keyword">BY</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>;
</pre></div>
</div>
</div>

<ol>
  <li>Setear la llave maestra</li>
</ol>

<div><div class="CodeRay">
  <div class="code"><pre><span class="class">ALTER</span> SYSTEM <span class="class">SET</span> ENCRYPTION <span class="type">KEY</span> IDENTIFIED <span class="keyword">BY</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>;
</pre></div>
</div>
</div>

<h3 id="creacion-de-wallet-com-mkstore">Creacion de wallet com mkstore</h3>

<h4 id="para-creacion-del-wallet">- Para creacion del wallet</h4>

<div><div class="CodeRay">
  <div class="code"><pre>mkstore -wrl <span class="error">$</span>HOME/admin/orcl/wallets -<span class="class">create</span>
</pre></div>
</div>
</div>

<h4 id="para-anadir-credenciales-al-wallet">- Para anadir credenciales al wallet</h4>

<div><div class="CodeRay">
  <div class="code"><pre>mkstore -wrl <span class="error">$</span>HOME/admin/orcl/wallets
-createCredential dev hr [hr]
</pre></div>
</div>
</div>

<iframe class="youtube-player" type="text/html" width="640" height="385" src="https://www.youtube.com/embed/bTAn45ejjL0" allowfullscreen="" frameborder="0">
</iframe>
</div>


      <footer>
        <p class="meta text-muted">
          
  

<span class="glyphicon glyphicon-user"></span> <span class="byline author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">Posted by <span class="fn" itemprop="name">Jose Añasco</span></span>

          













</span> <time datetime="2014-12-11T11:26:50-05:00"  itemprop="datePublished dateCreated"><time class='entry-date' datetime='2014-12-11T11:26:50-05:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:26 am</span></time></time>
          

<span class="glyphicon glyphicon-tags"></span>&nbsp;
<span class="categories">
  
    <a class='category' href='/blog/categories/aci040/'>aci040</a>, <a class='category' href='/blog/categories/udla/'>udla</a>
  
</span>


        </p>
        
          <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://merongivian.github.io/blog/2014/12/11/oracle-advanced-security-aso/" data-via="merongivian" data-counturl="http://merongivian.github.io/blog/2014/12/11/oracle-advanced-security-aso/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

        
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/blog/2014/11/18/defining-methods-dynamically-metaprogramming/" title="Previous Post: Defining methods dynamically (metaprogramming)">&laquo; Defining methods dynamically (metaprogramming)</a></li>
            
            
            <li class="next"><a href="/blog/2014/12/11/oracle-database-vault-dv/" title="Next Post: Oracle Database Vault (DV)">Oracle Database Vault (DV) &raquo;</a></li>
            
          </ul>
        
      </footer>
    </article>
    
  </div>

  
  <aside class="sidebar col-md-3">
    
      <section>
  <h1>About Me</h1>
  <div class="avatar">
    <img class="" src="https://avatars0.githubusercontent.com/u/4277403?v=2&s=160">
  </div>
  <p id="bio">
    Ruby/Rails developer with a little experience in FP (Haskell), musician in the free time
    <a id= "email-icon" class = "buzz" href="mailto:joseanasco1@gmail.com"><img src="/images/email-icon.svg"></a>
  </p>
</section>
<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/blog/2014/11/18/defining-methods-dynamically-metaprogramming/">Defining Methods Dynamically (Metaprogramming)</a>
    
  </div>
</section>
<section class="twitter-section">
  <a class="twitter-timeline" href="https://twitter.com/merongivian" data-widget-id="527471391449165824">Tweets por @merongivian</a>
  <script>
   !function(d,s,id){
     var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
     if(!d.getElementById(id)){
       js=d.createElement(s);js.id=id;
       js.src=p+"://platform.twitter.com/widgets.js";
       fjs.parentNode.insertBefore(js,fjs);
     }
   } (document,"script","twitter-wjs");
  </script>
</section>


<section class="panel panel-default clearfix">
  <div class="panel-heading">
      <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating&#8230;</p>
  </div>
  
    <div class="gh-profile-link pull-right text-muted">
      <a href="https://github.com/merongivian">@merongivian</a> on GitHub
    </div>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'merongivian',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






    
  </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - Jose Añasco<br>
</p>

</div>
</footer>
    



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>


  </body>
</html>
